{% extends "admin/base_site.html" %}
{% load i18n staticfiles grp_tags %}

{% block title %}{% trans 'Question rationales' %}{% endblock %}

{% block extrastyle %}
<link href="{% static 'peerinst/css/admin.css' %}" rel="stylesheet" type="text/css" />
{% endblock %}

{% block breadcrumbs %}
<ul>
  <li><a href="{% url 'admin-index' %}">{% trans 'Home' %}</a></li>
  <li><a href="{% url 'assignment-results' assignment_id=assignment.identifier %}">{% trans 'results' %}</a></li>
  <li>{{ question.title }} {% trans 'rationales' %}</li>
</ul>
{% endblock %}

{% block content_title %}
<h1>{% trans 'Rationales for answers to ' %} {{ question.title }}</h1>
{% endblock %}

{% block content %}
<div class="g-d-c-fluid">
  <h2>Summary</h2>
  <table class="results-summary">
    <tbody>
      {% for label, item in summary_data %}
      <tr><th>{{ label }}</th><td>{{ item }}</td></tr>
      {% endfor %}
    </tbody>
  </table>
</div>
<div class="g-d-c-fluid">
  {% for data in rationale_data %}
  <h2>{{ data.heading }}</h2>
  <table class="results-rationale-data">
    <thead>
      <tr>
        {% for label in data.labels %}
        <th>{{ label }}</th>
        {% endfor %}
      </tr>
    </thead>
    <tbody>
      {% for rationale in data.rows %}
      <tr class="grp-row-{% cycle 'odd' 'even' %}">
        {% for item in rationale.data %}
        <td>{{ item }}</td>
        {% endfor %}
        <td>
        {% if rationale.link_answers %}
        <a href="{{ rationale.link_answers }}">[{% trans 'answers' %}]</a>
        {% endif %}
        </td>
      </tr>
      {% endfor %}
    </tbody>
  </table>
  {% endfor %}
</div>
{% endblock %}
